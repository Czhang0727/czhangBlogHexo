/**
* hexo-tag-vine
* https://github.com/welksonramos/hexo-tag-vine.git
* Copyright (c) 2015, Welkson Ramos
* Licensed under the MIT license.

* Syntax:
* {% vine [video_id] %} or {% vine [video_id [size]] %}
*/

hexo.extend.tag.register('vine', function(args){
  var base_url = 'https://vine.co/v/',
  video_id = args[0],
  size = args[1] || '';

  var config = hexo.config.vine || {};
  config.type = config.type || 'simple';
  config.autoplay = config.autoplay || false;
  config.size = config.size || 600;

if(size === '' || size === 'undefined'){
  size = config.size;
}
  switch(config.autoplay){
    case true :
    var tag ='<iframe src="' + base_url + video_id + '/embed/' + config.type + '?audio=1" width="' + size + '" height="' + size + '" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script>';
    break;

    default :
    var tag = '<iframe src="' + base_url + video_id + '/embed/' + config.type + '" width="' + size + '" height="' + size + '" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script>';
    break;
  }
  return tag;
});
